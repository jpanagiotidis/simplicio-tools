!function(a){simplicioTools.accordion={},simplicioTools.accordion.horizontal=function(b,c){var d=this;this.elem=a(b),this.ratio,void 0!==c?this.ratio=c:this.ratio=.5,this.slideWidthPercentage=.8,this.animSpeed=.3,this.currentWidth=0,this.currentHeight=0,this.currentIndex=-1,this.slides=[];var e=simplicioTools.preload.containerImages(b);a.when(e).done(function(){d.setSlides(),d.setSize(),a(window).on("resize",function(a){d.setSize()})})},simplicioTools.accordion.horizontal.prototype.setSlides=function(){var b=this;b.slides=[],b.elem.find(".simplicio-accordion-elem").each(function(c,d){b.slides.push(d),a(d).on("click",function(a){a.preventDefault();var c=b.getIndex(a.currentTarget);c==b.currentIndex?b.currentIndex=-1:b.currentIndex=c,b.setSlidesPositions(!0)})})},simplicioTools.accordion.horizontal.prototype.getIndex=function(a){var b=this;return b.slides.indexOf(a)},simplicioTools.accordion.horizontal.prototype.setSize=function(a){var b=this;b.currentWidth=b.elem.width(),b.currentHeight=b.ratio*b.currentWidth,b.elem.height(b.currentHeight),b.setInstantSameValues({width:100*b.slideWidthPercentage+"%"}),b.setSlidesPositions(),b.setHeaders()},simplicioTools.accordion.horizontal.prototype.setHeaders=function(b){var c=this;for(var d in c.slides)a(c.slides[d]).find(".simplicio-accordion-header").each(function(b,d){a(d).css({width:c.currentHeight+"px",top:-a(d).outerHeight()+"px"})})},simplicioTools.accordion.horizontal.prototype.setInstantSameValues=function(b){var c=this;for(i in c.slides)a(c.slides[i]).css(b)},simplicioTools.accordion.horizontal.prototype.setInstantValues=function(a){var b=this;for(i in b.slides)jQuery(b.slides[i]).css(a[i])},simplicioTools.accordion.horizontal.prototype.setAnimatedValues=function(a){var b=this;for(i in b.slides)TweenLite.to(b.slides[i],b.animSpeed,a[i])},simplicioTools.accordion.horizontal.prototype.setSlidesPositions=function(a){var b,c=this;b=c.currentIndex>=0?c.getSlideOpenPositions():c.getAllClosedPositions(),a?c.setAnimatedValues(b):c.setInstantValues(b);for(i in c.slides)simplicioTools.image.setVerticalPosition(c.elem);c.setSlidesCaptions()},simplicioTools.accordion.horizontal.prototype.setSlidesCaptions=function(){var b=this,c=void 0;for(var d in b.slides)c=b.currentIndex==d?1:0,a(b.slides[d]).find(".simplicio-accordion-caption").each(function(a,d){TweenLite.to(d,b.animSpeed,{opacity:c,ease:Linear.easeNone})}),a(b.slides[d]).find(".simplicio-accordion-header").each(function(a,d){TweenLite.to(d,b.animSpeed,{opacity:Math.abs(c-1),ease:Linear.easeNone})})},simplicioTools.accordion.horizontal.prototype.getAllClosedPositions=function(){var a=this,b=[],c=a.elem.width()/a.slides.length;for(i in a.slides)b.push({left:i*c});return b},simplicioTools.accordion.horizontal.prototype.getSlideOpenPositions=function(){var a=this,b=[],c=Math.round((1-a.slideWidthPercentage)*a.currentWidth/(a.slides.length-1)),d=Math.round(a.slideWidthPercentage*a.currentWidth),e=0;for(var f in a.slides)b.push({left:e+"px"}),e+=a.currentIndex==f?d:c;return b},simplicioTools.accordion.horizontal.prototype.openSlide=function(){var a=this;a.setSlidesPositions(!0)},simplicioTools.accordion.vertical=function(b,c){var d=this;this.animSpeed=.3,d.closeAll(),a(b+" .simplicio-accordion-elem").each(function(b,c){var e=this;a(e).find(".simplicio-accordion-header").on("click",function(b){d.closeActive();var c=a(e).find(".simplicio-accordion-content");d.openElement(c)})})},simplicioTools.accordion.vertical.prototype.closeAll=function(){var b=this;a(".simplicio-accordion-content").each(function(a,c){b.closeElement(c)})},simplicioTools.accordion.vertical.prototype.closeActive=function(){var b=this;a(".simplicio-accordion-active").each(function(a,c){b.closeElement(c)})},simplicioTools.accordion.vertical.prototype.closeElement=function(b){var c=this;TweenLite.to(b,c.animSpeed,{height:"0px",ease:Linear.easeNone,onComplete:function(){a(b).removeClass("simplicio-accordion-active"),a(b).css("display","none")}})},simplicioTools.accordion.vertical.prototype.openElement=function(b){var c=this;a(b).css("display","block"),a(b).addClass("simplicio-accordion-active"),TweenLite.to(b,c.animSpeed,{height:"200px",ease:Linear.easeNone})}}(jQuery);